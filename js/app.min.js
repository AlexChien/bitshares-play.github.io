/*! playshare.io - v0.0.1 - 2016-11-20
* http://playshare.io
* Copyright (c) 2016 bitsuperlab; Licensed  */
function display_currency(a,b,c){return parts=a.toString().split("."),parts.length<2&&parts.push("0"),parts[0].replace(comify_re,"$1,")+'<small class="num">.'+max_digit(parts[1],c)+" "+String(b).split("_").join(" / ").toUpperCase()+"</small>"}function max_digit(a,b){var c=b||8;return String(a).substring(0,c)}var get_latest_downloads,get_latest_downloads2,get_news,get_play_total_donated,setup_check_point,setup_page_nav_links,show_progress_bar,show_tip,subscribe_to_list,vendor_prop_set;vendor_prop_set=function(a,b,c){var d,e,f,g,h;for(g=["webkit","moz","o",""],h=[],e=0,f=g.length;f>e;e++)d=g[e],b=""===d?b:"-"+d+"-"+b,h.push($(a).css(b,c));return h},setup_page_nav_links=function(a,b){return vendor_prop_set(this,"animation-delay",.5+.1*a+"s"),$(b).addClass("animated fadeInDown").click(function(a){var b,c;return b=$(this).attr("href"),b.match(/^#/)?(a.preventDefault,c=$(b).offset().top-77,$("html, body").animate({scrollTop:c},1e3,jQuery.easing.easeInOutQuad)):void 0})},setup_check_point=function(){return $(this).css("opacity","").addClass("animated").addClass($(this).data("animate")),$(this).data("delay")?vendor_prop_set(this,"animation-delay",$(this).data("delay")+"s"):void 0},subscribe_to_list=function(){var a,b,c;return""!==$("#inputEmail").val()&&$("#inputEmail").val().match(/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)?($("#inputEmail").parentsUntil(".form-group").removeClass("has-error"),a="https://bitshares-play.us9.list-manage.com/subscribe/post?u=c483312cc24bc3fbae29fadcf&amp;id=",c=a+"3ea6699589",b=a+"ebfabcbaec",$("#mailing_list").attr("action",$("#langPrefCN").prop("checked")?b:c),!0):($("#inputEmail").focus().parentsUntil(".form-group").parent().addClass("has-error"),!1)},show_progress_bar=function(a,b){var c,d,e,f,g,h;return h=".progress .bar",e=".progress .ready-point",f=".progress .start-point",d=".progress .end-point",$(e).css("left","-"+$(e).width()+"px").show().animate({left:0},1e3,show_tip),$(f).css("left","-"+$(f).width()+"px").show().animate({left:$(".progress").width()*a/100},1e3,show_tip),g=new Date,c=Math.floor(g<this.dates.st_of_cf?(g-this.dates.ann_of_cf)/(this.dates.st_of_cf-this.dates.ann_of_cf)*100:(g-this.dates.st_of_cf)/(this.dates.ed_of_cf-this.dates.st_of_cf)*100),c=100,b=100,$(h).data("percentage",b).data("tip",g.toLocaleDateString()+" "+g.toLocaleTimeString()).animate({width:b+"%"},1500,show_tip).find("div").html(c+"%"),$(d).css("right","-"+$(f).width()+"px").show().animate({right:0},1e3,show_tip)},show_tip=function(){var a,b;return $(this).data("tip")?($(this).hasClass("bar")?(a=$(this).width()-47,b=75):(a=$(this).position().left,b=55),$('<span class="tip">'+$(this).data("tip")+"</span>").appendTo($(this).parent()).css({position:"absolute",top:b,left:a})):void 0},comify_re=/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,get_play_total_donated=function(){var a,b;return this.dates={ann_of_cf:new Date(Date.UTC(2014,10,30)),st_of_cf:new Date(Date.UTC(2015,0,5)),ed_of_cf:new Date(Date.UTC(2015,1,2)),today:new Date},a=Math.floor((dates.st_of_cf-dates.ann_of_cf)/(dates.ed_of_cf-dates.ann_of_cf)*100),b=Math.floor((dates.today-dates.ann_of_cf)/(dates.ed_of_cf-dates.ann_of_cf)*100),$(".cf_stat").show(),$("#cf_raised").html(display_currency("2396.11","BTC"))},get_latest_downloads=function(){return $.ajax({url:"https://download.dacplay.org/downloads/latest.json?v=1478101274",dataType:"json"}).done(function(a){var b,c,d,e,f,g,h;for(g=a.downloads.length,b=parseInt(12/g),e=h=0;g>=0?g>h:h>g;e=g>=0?++h:--h)c=a.downloads[e],f=c.platform.split(" ")[0].toLowerCase(),d=$("<div class='col-md-"+b+"'><img class='platform-icon' src='../img/icon-"+f+".svg' /><h3>"+c.platform+"</h3><p style='font-size:10px;'>sha1hash: "+c.sha1hash+"<br />Size: "+c.fileSize+"</p><a class='btn btn"+e+" withripple' href='"+c.url+"' role='button' data-platform='"+c.platform+"' data-version='"+a.version+"'><img src='../img/ic_cloud_download_48px.svg' /><div class='ripple-wrapper'></div></a></div>"),vendor_prop_set(d,"animation-delay",.5+.1*e+"s"),$("#download .downloads-container").append(d),$("#download .downloads-container .btn"+e).on("click",function(){return ga("send","event","client","download",$(this).data("platform"),$(this).data("version"))});return $("#download").removeClass("hide"),$("#download .release-intro").html(""+a.name+"<br />version: "+a.version+"<br /><br />"+a.releaseNote)})},get_latest_downloads2=function(){return $.ajax({url:"https://download.dacplay.org/downloads/latest2.json?v=1478101274",dataType:"json"}).done(function(a){var b,c,d,e,f,g,h;for(g=a.downloads.length,b=parseInt(12/g),e=h=0;g>=0?g>h:h>g;e=g>=0?++h:--h)c=a.downloads[e],f=c.platform.split(" ")[0].toLowerCase(),d=$("<div class='col-md-"+b+" animated fadeInUp'><img class='platform-icon' src='../img/icon-"+f+".svg' /><h3>"+c.platform+"</h3><p style='font-size:10px;'>sha1hash: "+c.sha1hash+"<br />Size: "+c.fileSize+"</p><a class='btn btn"+e+" withripple' href='"+c.url+"' role='button' data-platform='"+c.platform+"' data-version='"+a.version+"'><img src='../img/ic_cloud_download_48px.svg' /><div class='ripple-wrapper'></div></a></div>"),vendor_prop_set(d,"animation-delay",.5+.1*e+"s"),$("#download2 .downloads-container").append(d),$("#download2 .downloads-container .btn"+e).on("click",function(){return ga("send","event","client","download",$(this).data("platform"),$(this).data("version"))});return $("#download2").removeClass("hide"),$("#download2 .release-intro").html(""+a.name+"<br />version: "+a.version+"<br /><br />"+a.releaseNote)})},get_news=function(a){var b;return b="../news/news-"+a+".json",$.ajax({url:b,dataType:"json"}).done(function(a){var b,c,d,e,f;if(a&&0!==a.length){for($("#news").show(),f=[],d=0,e=a.length;e>d;d++)b=a[d],c="<div class='news-item'><div class='container'><div class='col-md-3'><div class='news-date text-right'>"+b.date+"</div></div><div class='col-md-9'><h3 class='news-title'>"+b.title+"</h3><div class='news-body'><p>"+b.body+"</p></div></div></div></div>",f.push($("#news section .news-container").append(c));return f}})},function(){var a;return $(".page-nav > li > a").each(setup_page_nav_links),get_latest_downloads(),get_latest_downloads2(),$('[data-toggle="popover"]').popover(),$(".feature-item").mouseover(function(){return $(".feature-item").removeClass("well"),$(this).toggleClass("well")}),$(".animated").css("opacity","0"),$(".triggerAnimation").waypoint(setup_check_point,{offset:"80%",triggerOnce:!0}),$("#mailing_list").submit(subscribe_to_list),a="#mailing_list input[name=langpref]",$(a).on("click",function(){return $(a).prop("checked",!1),$(this).prop("checked",!0)}),$.scrollUp({scrollName:"scrollUp",topDistance:"77",topSpeed:300,easingType:"easeInOutQuad",animation:"fade",animationInSpeed:200,animationOutSpeed:200,scrollText:"",scrollTrigger:"#scrollTopBtn",activeOverlay:!1}),get_news(lang),get_play_total_donated(),this.dates.today>this.dates.st_of_cf&&$(".risk-notify-container").show(),$(".risk_confirm_btn").on("click",function(){return $(".risk-notify").hide(),$(".btc-address-holder").show()})}.call(this);